양치기 소년 문제를 분류문제로 풀어본 것
================
Dr.Kevin
6/19/2018

아래는 양치기 소년 문제를 분류문제로 했을 때 성능이 어떨런지 Confusion Matrix와 F1 score 그리고 ROC 커브 & AUROC로 재미삼아 풀어본 것입니다.

양기치 소년이 늑대가 '안 나타났다'라고 한 번만 했더라면 좋았을텐데... 그러지는 않아서 혼동행렬이 좀 웃기긴 하지만 아무튼 **민감도 기준으로는 100%**지만, **정밀도가 33.3%**라서 **F1 score가 0.5**밖에 되지 않으며 **ROC는 대각선이 덜렁 하나** 그려지고 그 결과로 **AUROC는 0.5**가 되겠습니다. 후후

``` r
# 양치기 소년 문제
real <- factor(x = c('none', 'none', 'wolf'), levels = c('wolf', 'none'))
pred <- factor(c('wolf', 'wolf', 'wolf'), levels = c('wolf', 'none'))

# 혼동행렬
library(caret)
```

    ## Loading required package: lattice

``` r
confusionMatrix(data = pred, reference = real)
```

    ## Confusion Matrix and Statistics
    ## 
    ##           Reference
    ## Prediction wolf none
    ##       wolf    1    2
    ##       none    0    0
    ##                                           
    ##                Accuracy : 0.3333          
    ##                  95% CI : (0.0084, 0.9057)
    ##     No Information Rate : 0.6667          
    ##     P-Value [Acc > NIR] : 0.9630          
    ##                                           
    ##                   Kappa : 0               
    ##  Mcnemar's Test P-Value : 0.4795          
    ##                                           
    ##             Sensitivity : 1.0000          
    ##             Specificity : 0.0000          
    ##          Pos Pred Value : 0.3333          
    ##          Neg Pred Value :    NaN          
    ##              Prevalence : 0.3333          
    ##          Detection Rate : 0.3333          
    ##    Detection Prevalence : 1.0000          
    ##       Balanced Accuracy : 0.5000          
    ##                                           
    ##        'Positive' Class : wolf            
    ## 

``` r
# F1 score
library(MLmetrics)
```

    ## 
    ## Attaching package: 'MLmetrics'

    ## The following objects are masked from 'package:caret':
    ## 
    ##     MAE, RMSE

    ## The following object is masked from 'package:base':
    ## 
    ##     Recall

``` r
F1_Score(y_pred = pred, y_true = real)
```

    ## [1] 0.5

``` r
# ROC curve
library(ROCR)
```

    ## Loading required package: gplots

    ## 
    ## Attaching package: 'gplots'

    ## The following object is masked from 'package:stats':
    ## 
    ##     lowess

``` r
predObj <- prediction(predictions = as.numeric(pred), labels = real)

# prediction 객체를 활용하여 performance 객체를 생성합니다. 
perform <- performance(prediction.obj = predObj, 
                       measure = 'tpr', 
                       x.measure = 'fpr')

# ROC 커브를 그립니다.
plot(x = perform, main = 'ROC Curve')

# 왼쪽 아래 모서리에서 오른쪽 위 모서리를 잇는 대각선을 추가합니다. 
lines(x = c(0, 1), y = c(0, 1), col = 'red', lty = 2)
```

![](https://raw.githubusercontent.com/MrKevinNa/MrKevinNa.github.io/master/images/2018-06-19-쉬어가기-코너_files/unnamed-chunk-1-1.png)

``` r
# AUROC
library(pROC)
```

    ## Type 'citation("pROC")' for a citation.

    ## 
    ## Attaching package: 'pROC'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     cov, smooth, var

``` r
auc(real, as.numeric(pred))
```

    ## Area under the curve: 0.5
